<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>

	<!--不受权限控制的Action请求配置-->
	<package name="non-authority" namespace="/" extends="struts-default">
		<action name="login" class="data.action.ManageUserAction" method="login">
			<result name="empty">/login.jsp?result=empty</result>
			<result name="false">/login.jsp?result=false</result>
			<result name="viewer">/Index_viewer.jsp</result>
			<result name="operator">/Index_operator.jsp</result>
			<result name="admin">/Index_admin.jsp</result>
		</action>
	</package>
	
	
	<package name="user" namespace="/" extends="struts-default">
		<interceptors>
			<interceptor name="checkLogin" class="data.interceptor.CheckLoginInterceptor"/>
				<interceptor-stack name="teamwareStack">
					 <interceptor-ref name="checkLogin"/>
	                 <interceptor-ref name="defaultStack"/>
	            </interceptor-stack>
	    </interceptors>	
		<default-interceptor-ref name="teamwareStack"/>
		
		
		<!--定义全局Result-->  
        <global-results>  
            <result name="login">/login.jsp</result>  
        </global-results>
		
		<action name="addUser" class="data.action.ManageUserAction" method="add">
			<result name="empty">/UserAdd.jsp?result=empty</result>
			<result name="nameError">/UserAdd.jsp?result=nameError</result>
			<result name="success">/UserAdd.jsp?result=success</result>
			<result name="false">/UserAdd.jsp?result=false</result>
		</action>
		
		<action name="modifyViewer" class="data.action.ManageUserAction" method="modify">
			<result name="empty">/AdminInfo_viewer.jsp?result=empty</result>
			<result name="nameError">/AdminInfo_viewer.jsp?result=nameError</result>
			<result name="success">/AdminInfo_viewer.jsp?result=success</result>
			<result name="false">/AdminInfo_viewer?result=false</result>
		</action>
		
		<action name="modifyOperator" class="data.action.ManageUserAction" method="modify">
			<result name="empty">/AdminInfo_operator.jsp?result=empty</result>
			<result name="nameError">/AdminInfo_operator.jsp?result=nameError</result>
			<result name="success">/AdminInfo_operator.jsp?result=success</result>
			<result name="false">/AdminInfo_operator.jsp?result=false</result>
		</action>
		
		<action name="modifyAdmin" class="data.action.ManageUserAction" method="modify">
			<result name="empty">/AdminInfo_admin.jsp?result=empty</result>
			<result name="nameError">/AdminInfo_admin.jsp?result=nameError</result>
			<result name="success">/AdminInfo_admin.jsp?result=success</result>
			<result name="false">/AdminInfo_admin.jsp?result=false</result>
		</action>
 
	</package>

</struts> 